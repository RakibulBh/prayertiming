import { defaultSettings } from '../config';
import { GetByMonthParams, getByMonth } from '../getByMonth';

const config: GetByMonthParams = {
  month: 3,
  year: 2021,
  long: 90.38,
  lat: 23.75,
  method: 'Karachi',
  timeFormat: '12h',
  timezone: 6,
};

const expectedOutput = [
  {
    date: new Date('2021-04-01T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:25 am',
    fajr: '4:35 am',
    sunrise: '5:51 am',
    dhuhr: '12:02 pm',
    asr: '3:30 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:14 pm',
    maghrib: '6:14 pm',
    isha: '7:30 pm',
    midnight: '12:03 am',
  },
  {
    date: new Date('2021-04-02T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:24 am',
    fajr: '4:34 am',
    sunrise: '5:50 am',
    dhuhr: '12:02 pm',
    asr: '3:29 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:15 pm',
    maghrib: '6:15 pm',
    isha: '7:31 pm',
    midnight: '12:02 am',
  },
  {
    date: new Date('2021-04-03T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:23 am',
    fajr: '4:33 am',
    sunrise: '5:49 am',
    dhuhr: '12:02 pm',
    asr: '3:29 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:15 pm',
    maghrib: '6:15 pm',
    isha: '7:31 pm',
    midnight: '12:02 am',
  },
  {
    date: new Date('2021-04-04T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:21 am',
    fajr: '4:31 am',
    sunrise: '5:48 am',
    dhuhr: '12:01 pm',
    asr: '3:29 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:15 pm',
    maghrib: '6:15 pm',
    isha: '7:32 pm',
    midnight: '12:02 am',
  },
  {
    date: new Date('2021-04-05T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:20 am',
    fajr: '4:30 am',
    sunrise: '5:47 am',
    dhuhr: '12:01 pm',
    asr: '3:29 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:16 pm',
    maghrib: '6:16 pm',
    isha: '7:32 pm',
    midnight: '12:01 am',
  },
  {
    date: new Date('2021-04-06T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:19 am',
    fajr: '4:29 am',
    sunrise: '5:46 am',
    dhuhr: '12:01 pm',
    asr: '3:29 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:16 pm',
    maghrib: '6:16 pm',
    isha: '7:33 pm',
    midnight: '12:01 am',
  },
  {
    date: new Date('2021-04-07T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:18 am',
    fajr: '4:28 am',
    sunrise: '5:45 am',
    dhuhr: '12:01 pm',
    asr: '3:28 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:17 pm',
    maghrib: '6:17 pm',
    isha: '7:33 pm',
    midnight: '12:01 am',
  },
  {
    date: new Date('2021-04-08T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:17 am',
    fajr: '4:27 am',
    sunrise: '5:44 am',
    dhuhr: '12:00 pm',
    asr: '3:28 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:17 pm',
    maghrib: '6:17 pm',
    isha: '7:34 pm',
    midnight: '12:01 am',
  },
  {
    date: new Date('2021-04-09T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:16 am',
    fajr: '4:26 am',
    sunrise: '5:43 am',
    dhuhr: '12:00 pm',
    asr: '3:28 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:17 pm',
    maghrib: '6:17 pm',
    isha: '7:35 pm',
    midnight: '12:00 am',
  },
  {
    date: new Date('2021-04-10T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:15 am',
    fajr: '4:25 am',
    sunrise: '5:42 am',
    dhuhr: '12:00 pm',
    asr: '3:27 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:18 pm',
    maghrib: '6:18 pm',
    isha: '7:35 pm',
    midnight: '12:00 am',
  },
  {
    date: new Date('2021-04-11T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:14 am',
    fajr: '4:24 am',
    sunrise: '5:41 am',
    dhuhr: '12:00 pm',
    asr: '3:27 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:18 pm',
    maghrib: '6:18 pm',
    isha: '7:36 pm',
    midnight: '12:00 am',
  },
  {
    date: new Date('2021-04-12T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:13 am',
    fajr: '4:23 am',
    sunrise: '5:40 am',
    dhuhr: '11:59 am',
    asr: '3:27 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:19 pm',
    maghrib: '6:19 pm',
    isha: '7:36 pm',
    midnight: '11:59 pm',
  },
  {
    date: new Date('2021-04-13T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:12 am',
    fajr: '4:22 am',
    sunrise: '5:39 am',
    dhuhr: '11:59 am',
    asr: '3:27 pm',
    asrHanafi: '4:30 pm',
    sunset: '6:19 pm',
    maghrib: '6:19 pm',
    isha: '7:37 pm',
    midnight: '11:59 pm',
  },
  {
    date: new Date('2021-04-14T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:11 am',
    fajr: '4:21 am',
    sunrise: '5:38 am',
    dhuhr: '11:59 am',
    asr: '3:26 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:19 pm',
    maghrib: '6:19 pm',
    isha: '7:37 pm',
    midnight: '11:59 pm',
  },
  {
    date: new Date('2021-04-15T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:10 am',
    fajr: '4:20 am',
    sunrise: '5:38 am',
    dhuhr: '11:59 am',
    asr: '3:26 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:20 pm',
    maghrib: '6:20 pm',
    isha: '7:38 pm',
    midnight: '11:59 pm',
  },
  {
    date: new Date('2021-04-16T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:09 am',
    fajr: '4:19 am',
    sunrise: '5:37 am',
    dhuhr: '11:58 am',
    asr: '3:26 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:20 pm',
    maghrib: '6:20 pm',
    isha: '7:38 pm',
    midnight: '11:58 pm',
  },
  {
    date: new Date('2021-04-17T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:08 am',
    fajr: '4:18 am',
    sunrise: '5:36 am',
    dhuhr: '11:58 am',
    asr: '3:25 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:21 pm',
    maghrib: '6:21 pm',
    isha: '7:39 pm',
    midnight: '11:58 pm',
  },
  {
    date: new Date('2021-04-18T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:07 am',
    fajr: '4:17 am',
    sunrise: '5:35 am',
    dhuhr: '11:58 am',
    asr: '3:25 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:21 pm',
    maghrib: '6:21 pm',
    isha: '7:40 pm',
    midnight: '11:58 pm',
  },
  {
    date: new Date('2021-04-19T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:06 am',
    fajr: '4:16 am',
    sunrise: '5:34 am',
    dhuhr: '11:58 am',
    asr: '3:25 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:22 pm',
    maghrib: '6:22 pm',
    isha: '7:40 pm',
    midnight: '11:58 pm',
  },
  {
    date: new Date('2021-04-20T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:05 am',
    fajr: '4:15 am',
    sunrise: '5:33 am',
    dhuhr: '11:57 am',
    asr: '3:25 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:22 pm',
    maghrib: '6:22 pm',
    isha: '7:41 pm',
    midnight: '11:58 pm',
  },
  {
    date: new Date('2021-04-21T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:04 am',
    fajr: '4:14 am',
    sunrise: '5:32 am',
    dhuhr: '11:57 am',
    asr: '3:24 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:22 pm',
    maghrib: '6:22 pm',
    isha: '7:41 pm',
    midnight: '11:57 pm',
  },
  {
    date: new Date('2021-04-22T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:03 am',
    fajr: '4:13 am',
    sunrise: '5:31 am',
    dhuhr: '11:57 am',
    asr: '3:24 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:23 pm',
    maghrib: '6:23 pm',
    isha: '7:42 pm',
    midnight: '11:57 pm',
  },
  {
    date: new Date('2021-04-23T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:02 am',
    fajr: '4:12 am',
    sunrise: '5:31 am',
    dhuhr: '11:57 am',
    asr: '3:24 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:23 pm',
    maghrib: '6:23 pm',
    isha: '7:43 pm',
    midnight: '11:57 pm',
  },
  {
    date: new Date('2021-04-24T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:01 am',
    fajr: '4:11 am',
    sunrise: '5:30 am',
    dhuhr: '11:57 am',
    asr: '3:23 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:24 pm',
    maghrib: '6:24 pm',
    isha: '7:43 pm',
    midnight: '11:57 pm',
  },
  {
    date: new Date('2021-04-25T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '4:00 am',
    fajr: '4:10 am',
    sunrise: '5:29 am',
    dhuhr: '11:56 am',
    asr: '3:23 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:24 pm',
    maghrib: '6:24 pm',
    isha: '7:44 pm',
    midnight: '11:57 pm',
  },
  {
    date: new Date('2021-04-26T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '3:59 am',
    fajr: '4:09 am',
    sunrise: '5:28 am',
    dhuhr: '11:56 am',
    asr: '3:23 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:25 pm',
    maghrib: '6:25 pm',
    isha: '7:44 pm',
    midnight: '11:56 pm',
  },
  {
    date: new Date('2021-04-27T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '3:58 am',
    fajr: '4:08 am',
    sunrise: '5:28 am',
    dhuhr: '11:56 am',
    asr: '3:23 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:25 pm',
    maghrib: '6:25 pm',
    isha: '7:45 pm',
    midnight: '11:56 pm',
  },
  {
    date: new Date('2021-04-28T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '3:57 am',
    fajr: '4:07 am',
    sunrise: '5:27 am',
    dhuhr: '11:56 am',
    asr: '3:22 pm',
    asrHanafi: '4:31 pm',
    sunset: '6:26 pm',
    maghrib: '6:26 pm',
    isha: '7:46 pm',
    midnight: '11:56 pm',
  },
  {
    date: new Date('2021-04-29T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '3:56 am',
    fajr: '4:06 am',
    sunrise: '5:26 am',
    dhuhr: '11:56 am',
    asr: '3:22 pm',
    asrHanafi: '4:32 pm',
    sunset: '6:26 pm',
    maghrib: '6:26 pm',
    isha: '7:46 pm',
    midnight: '11:56 pm',
  },
  {
    date: new Date('2021-04-30T00:00:00.000Z'),
    method: 'Karachi',
    imsak: '3:55 am',
    fajr: '4:05 am',
    sunrise: '5:25 am',
    dhuhr: '11:56 am',
    asr: '3:22 pm',
    asrHanafi: '4:32 pm',
    sunset: '6:26 pm',
    maghrib: '6:26 pm',
    isha: '7:47 pm',
    midnight: '11:56 pm',
  },
];

const invalidConfig: GetByMonthParams = {
  month: 13,
  year: 2021,
  long: 90.38,
  lat: 23.75,
  method: 'Karachi',
  timeFormat: '12h',
  timezone: 6,
  config: {
    ...defaultSettings,
    imsak: '7 min',
    dhuhr: '1 min',
  },
};

const result = getByMonth(config);

test(`calculates prayer times for ${config.lat}, ${config.long}, ${config.month} `, () => {
  expect(result).toMatchObject(expectedOutput);
});

test(`should throw 'Invalid month' error`, () => {
  expect(() => getByMonth(invalidConfig)).toThrow('Invalid month');
});
